<div class="filter-items">
  <h2>Filter Options</h2>
  <h3>Primary Filters</h3>
  <ul class="primary-filter-list">
    {{#each primaryFilterOptions as |input|}}
      <li>
        {{radio-filter groupValue=primaryFilterValue secondaryInputs=input.secondaryFilters isChecked=input.isChecked groupName="top-level" inputValue=input.value onClick=(action "updateTopLevel") labelName=input.label labelIcon=input.icon}}
        {{#if (is-equal primaryFilterValue input.value)}}
          {{#if showAdminFilters}}
            {{admin-problem-filter
              filter=adminFilter
              mainOptions=secondaryFilterOptions
              secondaryFilter=secondaryFilter
              onUpdate=(action "onUpdate")
              orgOptions=orgOptions
              store=store
              updateSecondLevel=(action "updateSecondLevel")
            }}
          {{else}}
          <ul class="secondary-filter-options">
            {{#each secondaryFilterOptions as |option|}}
              <li class="checkbox-content {{if (is-in currentValues option.value) 'is-selected'}}">
                <label for={{option.value}} class="checkbox-label">
                  <i class="checkbox-icon {{option.icon}}"></i>
                  <span class="checkbox-text">{{option.label}}</span>
                  {{input id=option.value type="checkbox" checked=option.isApplied change=(action "updateSecondLevel")}}
                </label>
              </li>
            {{/each}}
          </ul>
          {{/if}}

        {{/if}}
      </li>
    {{/each}}
  </ul>

  <h3>Category</h3>
  {{input id="toggle-sub-cats" type="checkbox" checked=doIncludeSubCategories change=(action "toggleIncludeSubCats")}}
  <label>Include Subcategories</label>
  <ul class="category-filter-list">
    <h5>Selected Category Filters</h5>
    {{#each categoriesFilter as |category|}}
      <li>{{category.identifier}}<i {{action "removeCategory" category}} class="far fa-times-circle" aria-hidden="true" title="Remove"></i></li>
    {{else}}
      <p>No categories selected. Click 'Show Category Menu' to view the Category Explorer.</p>
    {{/each}}
    <li>
      <button class="show-category-btn" {{action 'showCategoryMenu'}}>Show Category Menu</button>
    </li>
  </ul>
</div>


{{#if showCategoryList}}
  <div id="category-list-modal">
    <div class="modal-content">
      <h4>Select a Category</h4>
      <button class="close" {{action 'closeModal'}}><i class="fas fa-times"></i></button>
      {{categories-menu categories=categoryTree store=store addCategories="searchCategory"}}
    </div>
  </div>
{{/if}}